<!DOCTYPE html>
<html>
<head>
	<title>Sentiment Analysis</title>
	<style>
	html, body {width:100%;height:100%;overflow: hidden;margin:0;padding:0;}

	body { background: #3B5997; box-shadow: inset 0 0 20em 1em #444; }

	h1{font-size:50px; font-family:"Arial"; color: white;}

	input[type='text'] { font-size: 50px; text-align: center; background-color: transparent; color: white;}

	.tt-query {
  		-webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
     		-moz-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
          		box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
	}

	.tt-hint {
	  color: #999
	}

	.tt-dropdown-menu {
	  width: 513px;
	  margin-top: 4px;
	  padding: 4px 0;
	  background-color: #344972;
	  border: 1px solid #ccc;
	  border: 1px solid rgba(0, 0, 0, 0.2);
	  -webkit-border-radius: 4px;
	     -moz-border-radius: 4px;
	          border-radius: 4px;
	  -webkit-box-shadow: 0 5px 10px rgba(0,0,0,.2);
	     -moz-box-shadow: 0 5px 10px rgba(0,0,0,.2);
	          box-shadow: 0 5px 10px rgba(0,0,0,.2);
	}

	.tt-suggestion {
	  line-height: 0px;
	  font-size: 40px;
	  font-family:"Arial";
	  color: #fff;
	}

	.tt-suggestion.tt-cursor {
	  color: #f0f;
	  background-color: #0097cf;
	}
	</style>
</head>

<body>
	<CENTER><br><br><br><br><br><br><h1>With who would you like <br>to explore your relationship?</h1>
	<input class="typeahead" type="text" id="textEntry" placeholder="Search Friends" width:600; height:100;>
	<div id="responseBox"></div>
	</CENTER>
	<script src="../res/jquery.js"></script>
	<script src="../res/typeahead.js"></script>
	<script>
	var namesList = ['Jerry', 'Jet', 'Simon','John'];
	//getFriendsList();

	var substringMatcher = function(strs) {
		return function findMatches(q, cb) {
			var matches, substrRegex;

			// an array that will be populated with substring matches
			var matches = [];

			// regex used to determine if a string contains the substring `q`
			var substrRegex = new RegExp(q, 'i');

			console.log(strs);

			// iterate through the pool of strings and for any string that
			// contains the substring `q`, add it to the `matches` array
			$.each(strs, function(i, str) {
				if (substrRegex.test(str)) {
					matches.push({ value: str });
				}
			});

			cb(matches);
		};
	};

	$('.typeahead').typeahead({
		hint: false,
		highlight: true,
		minLength: 1
	},
	{
		name: 'namesList',
		displayKey: 'value',
		source: substringMatcher(namesList)
	}); 

/*	document.getElementById("textEntry").addEventListener('keypress', function (e) {
		var key = e.which || e.keyCode;
    			if (key == 13) { // 13 is enter
    				submit();
    			}
    		});*/

function getFriendsList(){
	var http = new XMLHttpRequest();
	var url = "http://brumhack.daniellockyer.com/friends";
	http.open("GET", url, true);

	http.onreadystatechange = function() {
		if(http.readyState == 4 && http.status == 200) {
			namesList = http.responseText;
		}
	}
	http.send(params);
}

function submit(){
	var text = document.getElementById("textEntry").value;
	var http = new XMLHttpRequest();
	var url = "10.6.42.50:80/submitUser";
	var params = "token=" + token;
	http.open("POST", url, true);

			http.onreadystatechange = function() {//Call a function when the state changes.
				if(http.readyState == 4 && http.status == 200) {
					alert(http.responseText);
				}
			}
			http.send(params);
		}
		</script>
	</body>
	</html>